parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"pACn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports._=r,exports.c=$,exports.d=e,exports.e=i,exports.g=o,exports.i=H,exports.f=exports.b=exports.a=exports.T=exports.S=exports.R=exports.P=exports.F=exports.D=exports.C=void 0;var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};function e(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return exports.f=n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},n.apply(this,arguments)};function r(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(l){o=[6,l],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}function i(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(l){i={error:l}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function s(t){return this instanceof s?(this.v=t,this):new s(t)}function l(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},l("next"),l("throw"),l("return"),r[Symbol.asyncIterator]=function(){return this},r;function l(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||a(t,e)})})}function a(t,e){try{(n=i[t](e)).value instanceof s?Promise.resolve(n.value.v).then(u,c):h(o[0][2],n)}catch(r){h(o[0][3],r)}var n}function u(t){a("next",t)}function c(t){a("throw",t)}function h(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}exports.f=n;const a=new WeakMap,u=new WeakMap;function c(t){const e=a.get(t);return console.assert(null!=e,"'this' is expected an Event object, but got",t),e}function h(t){null==t.passiveListener?t.event.cancelable&&(t.canceled=!0,"function"==typeof t.event.preventDefault&&t.event.preventDefault()):"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",t.passiveListener)}function p(t,e){a.set(this,{eventTarget:t,event:e,eventPhase:2,currentTarget:t,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:e.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});const n=Object.keys(e);for(let r=0;r<n.length;++r){const t=n[r];t in this||Object.defineProperty(this,t,d(t))}}function d(t){return{get(){return c(this).event[t]},set(e){c(this).event[t]=e},configurable:!0,enumerable:!0}}function f(t){return{value(){const e=c(this).event;return e[t].apply(e,arguments)},configurable:!0,enumerable:!0}}function v(t,e){const n=Object.keys(e);if(0===n.length)return t;function r(e,n){t.call(this,e,n)}r.prototype=Object.create(t.prototype,{constructor:{value:r,configurable:!0,writable:!0}});for(let i=0;i<n.length;++i){const o=n[i];if(!(o in t.prototype)){const t="function"==typeof Object.getOwnPropertyDescriptor(e,o).value;Object.defineProperty(r.prototype,o,t?f(o):d(o))}}return r}function y(t){if(null==t||t===Object.prototype)return p;let e=u.get(t);return null==e&&(e=v(y(Object.getPrototypeOf(t)),t),u.set(t,e)),e}function g(t,e){return new(y(Object.getPrototypeOf(e)))(t,e)}function b(t){return c(t).immediateStopped}function m(t,e){c(t).eventPhase=e}function x(t,e){c(t).currentTarget=e}function w(t,e){c(t).passiveListener=e}p.prototype={get type(){return c(this).event.type},get target(){return c(this).eventTarget},get currentTarget(){return c(this).currentTarget},composedPath(){const t=c(this).currentTarget;return null==t?[]:[t]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return c(this).eventPhase},stopPropagation(){const t=c(this);t.stopped=!0,"function"==typeof t.event.stopPropagation&&t.event.stopPropagation()},stopImmediatePropagation(){const t=c(this);t.stopped=!0,t.immediateStopped=!0,"function"==typeof t.event.stopImmediatePropagation&&t.event.stopImmediatePropagation()},get bubbles(){return Boolean(c(this).event.bubbles)},get cancelable(){return Boolean(c(this).event.cancelable)},preventDefault(){h(c(this))},get defaultPrevented(){return c(this).canceled},get composed(){return Boolean(c(this).event.composed)},get timeStamp(){return c(this).timeStamp},get srcElement(){return c(this).eventTarget},get cancelBubble(){return c(this).stopped},set cancelBubble(t){if(!t)return;const e=c(this);e.stopped=!0,"boolean"==typeof e.event.cancelBubble&&(e.event.cancelBubble=!0)},get returnValue(){return!c(this).canceled},set returnValue(t){t||h(c(this))},initEvent(){}},Object.defineProperty(p.prototype,"constructor",{value:p,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.Event&&(Object.setPrototypeOf(p.prototype,window.Event.prototype),u.set(window.Event.prototype,p));const S=new WeakMap,P=1,k=2,C=3;function E(t){return null!==t&&"object"==typeof t}function T(t){const e=S.get(t);if(null==e)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return e}function O(t){return{get(){let e=T(this).get(t);for(;null!=e;){if(e.listenerType===C)return e.listener;e=e.next}return null},set(e){"function"==typeof e||E(e)||(e=null);const n=T(this);let r=null,i=n.get(t);for(;null!=i;)i.listenerType===C?null!==r?r.next=i.next:null!==i.next?n.set(t,i.next):n.delete(t):r=i,i=i.next;if(null!==e){const i={listener:e,listenerType:C,passive:!1,once:!1,next:null};null===r?n.set(t,i):r.next=i}},configurable:!0,enumerable:!0}}function j(t,e){Object.defineProperty(t,`on${e}`,O(e))}function L(t){function e(){R.call(this)}e.prototype=Object.create(R.prototype,{constructor:{value:e,configurable:!0,writable:!0}});for(let n=0;n<t.length;++n)j(e.prototype,t[n]);return e}function R(){if(!(this instanceof R)){if(1===arguments.length&&Array.isArray(arguments[0]))return L(arguments[0]);if(arguments.length>0){const t=new Array(arguments.length);for(let e=0;e<arguments.length;++e)t[e]=arguments[e];return L(t)}throw new TypeError("Cannot call a class as a function")}S.set(this,new Map)}function _(t){var e,n,r=!1;return"boolean"==typeof t?r=t:null!=t&&(r=!!t.capture,e=t.passive,n=t.once),{capture:r,passive:e,once:n}}function B(t){return null!=t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener&&"function"==typeof t.dispatchEvent}R.prototype={addEventListener(t,e,n){if(null==e)return;if("function"!=typeof e&&!E(e))throw new TypeError("'listener' should be a function or an object.");const r=T(this),i=E(n),o=(i?Boolean(n.capture):Boolean(n))?1:2,s={listener:e,listenerType:o,passive:i&&Boolean(n.passive),once:i&&Boolean(n.once),next:null};let l=r.get(t);if(void 0===l)return void r.set(t,s);let a=null;for(;null!=l;){if(l.listener===e&&l.listenerType===o)return;a=l,l=l.next}a.next=s},removeEventListener(t,e,n){if(null==e)return;const r=T(this),i=(E(n)?Boolean(n.capture):Boolean(n))?1:2;let o=null,s=r.get(t);for(;null!=s;){if(s.listener===e&&s.listenerType===i)return void(null!==o?o.next=s.next:null!==s.next?r.set(t,s.next):r.delete(t));o=s,s=s.next}},dispatchEvent(t){if(null==t||"string"!=typeof t.type)throw new TypeError('"event.type" should be a string.');const e=T(this),n=t.type;let r=e.get(n);if(null==r)return!0;const i=g(this,t);let o=null;for(;null!=r;){if(r.once?null!==o?o.next=r.next:null!==r.next?e.set(n,r.next):e.delete(n):o=r,w(i,r.passive?r.listener:null),"function"==typeof r.listener)try{r.listener.call(this,i)}catch(s){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(s)}else r.listenerType!==C&&"function"==typeof r.listener.handleEvent&&r.listener.handleEvent(i);if(b(i))break;r=r.next}return w(i,null),m(i,0),x(i,null),!i.defaultPrevented}},Object.defineProperty(R.prototype,"constructor",{value:R,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.EventTarget&&Object.setPrototypeOf(R.prototype,window.EventTarget.prototype);var I,A=function(t){function n(e){var n=t.call(this)||this;return n.parent=e,n.listeners=void 0,n.delegate=void 0,n.delegates=void 0,n}return e(n,t),n.prototype.setDelegate=function(t){var e,n,r,o,s,l,a,u;if(void 0!==this.delegates){if(void 0!==this.listeners)try{for(var c=i(this.delegates),h=c.next();!h.done;h=c.next()){var p=h.value;try{for(var d=(r=void 0,i(this.listeners)),f=d.next();!f.done;f=d.next()){var v=f.value;p.removeEventListener(v.type,v.callback,v.options)}}catch(x){r={error:x}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}}}catch(w){e={error:w}}finally{try{h&&!h.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}this.delegates=void 0}if(this.delegate!==t){if(void 0!==this.listeners){if(void 0!==this.delegate)try{for(var y=i(this.listeners),g=y.next();!g.done;g=y.next()){v=g.value;this.delegate.removeEventListener(v.type,v.callback,v.options)}}catch(S){s={error:S}}finally{try{g&&!g.done&&(l=y.return)&&l.call(y)}finally{if(s)throw s.error}}try{for(var b=i(this.listeners),m=b.next();!m.done;m=b.next()){v=m.value;t.addEventListener(v.type,v.callback,v.options)}}catch(P){a={error:P}}finally{try{m&&!m.done&&(u=b.return)&&u.call(b)}finally{if(a)throw a.error}}}this.delegate=t}},n.prototype.setDelegates=function(t){var e,n,r,o,s,l,a,u,c=this;void 0!==this.delegate&&(this.delegates=new Set([this.delegate]),this.delegate=void 0);var h=new Set(Array.from(t).filter(B));if(void 0!==this.listeners){var p=void 0,d=void 0;void 0===this.delegates?(p=new Set,d=h):(p=new Set(Array.from(this.delegates).filter(function(t){return!h.has(t)})),d=new Set(Array.from(h).filter(function(t){return!c.delegates.has(t)})));try{for(var f=i(p),v=f.next();!v.done;v=f.next()){var y=v.value;try{for(var g=(r=void 0,i(this.listeners)),b=g.next();!b.done;b=g.next()){var m=b.value;y.removeEventListener(m.type,m.callback,m.options)}}catch(k){r={error:k}}finally{try{b&&!b.done&&(o=g.return)&&o.call(g)}finally{if(r)throw r.error}}}}catch(C){e={error:C}}finally{try{v&&!v.done&&(n=f.return)&&n.call(f)}finally{if(e)throw e.error}}try{for(var x=i(d),w=x.next();!w.done;w=x.next()){y=w.value;try{for(var S=(a=void 0,i(this.listeners)),P=S.next();!P.done;P=S.next()){m=P.value;y.addEventListener(m.type,m.callback,m.options)}}catch(E){a={error:E}}finally{try{P&&!P.done&&(u=S.return)&&u.call(S)}finally{if(a)throw a.error}}}}catch(T){s={error:T}}finally{try{w&&!w.done&&(l=x.return)&&l.call(x)}finally{if(s)throw s.error}}}this.delegates=h},n.prototype.addEventListener=function(e,n,r){var o,s;if(null!=n){if("object"==typeof n)throw new Error("Listener objects are not supported");void 0===this.listeners&&(this.listeners=[]),r=_(r);var l={type:e,callback:n,options:r};if(r.once){var a=this;l.callback=function(t){var e=n.call(this,t);return a.removeEventListener(l.type,l.callback,l.options),e}}if(this.listeners.findIndex(function(t){return l.type===t.type&&l.callback===t.callback&&l.options.capture===t.options.capture})<=-1&&this.listeners.push(l),void 0!==this.delegate)this.delegate.addEventListener(e,n,r);else if(void 0!==this.delegates)try{for(var u=i(this.delegates),c=u.next();!c.done;c=u.next()){c.value.addEventListener(e,n,r)}}catch(h){o={error:h}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(o)throw o.error}}return t.prototype.addEventListener.call(this,e,n,r)}},n.prototype.removeEventListener=function(e,n,r){var o,s;if(null!=n&&void 0!==this.listeners){var l="boolean"==typeof r?r:!(!r||!r.capture),a=this.listeners.findIndex(function(t){return t.type===e&&t.callback===n&&t.options.capture===l});if(void 0!==this.listeners[a]&&this.listeners.splice(a,1),void 0!==this.delegate)this.delegate.removeEventListener(e,n,r);else if(void 0!==this.delegates)try{for(var u=i(this.delegates),c=u.next();!c.done;c=u.next()){c.value.removeEventListener(e,n,r)}}catch(h){o={error:h}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(o)throw o.error}}return t.prototype.removeEventListener.call(this,e,n,r)}},n.prototype.clearEventListeners=function(){var t,e;if(void 0!==this.listeners)try{for(var n=i(this.listeners.slice()),r=n.next();!r.done;r=n.next()){var o=r.value;this.removeEventListener(o.type,o.callback,o.options)}}catch(s){t={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},n.prototype.dispatchEvent=function(e){var n=t.prototype.dispatchEvent.call(this,e);return n&&e.bubbles&&void 0!==this.parent&&(n=this.parent.dispatchEvent(e)),n},n}(R);function D(t){return null!=t&&"function"==typeof t.then}function q(t){return t instanceof Promise?t:Promise.resolve(t)}function M(t){return null!=t&&"function"==typeof t[Symbol.iterator]}function N(t){return"string"!=typeof t&&M(t)}function V(t){return null!=t&&"function"==typeof t.next}var U=Symbol.for("crank.ElementSigil"),W=Symbol.for("crank.Fragment");exports.F=W;var G=Symbol.for("crank.Copy");exports.C=G;var F=Symbol.for("crank.Portal");exports.P=F;var Y=Symbol.for("crank.Raw");function H(t){return null!=t&&t.__sigil__===U}function $(t,e,n){var r=null!=e&&null!=e["crank-key"]?e["crank-key"]:void 0,i={};for(var o in e)"crank-key"!==o&&(i[o]=e[o]);var s=arguments.length;if(s>3){for(var l=[];s-- >2;)l[s-2]=arguments[s];i.children=l}else s>2&&(i.children=n);return{__sigil__:U,tag:t,props:i,key:r}}function z(t){return null==t||"boolean"==typeof t?void 0:"string"==typeof t||H(t)?t:t.toString()}function J(t){var e,n,o,s,l,a;return r(this,function(r){switch(r.label){case 0:return null!=t?[3,1]:[2];case 1:if(!N(t))return[3,12];r.label=2;case 2:r.trys.push([2,9,10,11]),e=i(t),n=e.next(),r.label=3;case 3:return n.done?[3,8]:N(o=n.value)?[4,$(W,null,o)]:[3,5];case 4:return r.sent(),[3,7];case 5:return[4,z(o)];case 6:r.sent(),r.label=7;case 7:return n=e.next(),[3,3];case 8:return[3,11];case 9:return s=r.sent(),l={error:s},[3,11];case 10:try{n&&!n.done&&(a=e.return)&&a.call(e)}finally{if(l)throw l.error}return[7];case 11:return[2];case 12:return[4,z(t)];case 13:return r.sent(),[2]}})}exports.R=Y;var K=function(){return function(){this.dirty=!0,this.internal=!1,this.tag=void 0,this.key=void 0,this.value=void 0,this.previousSibling=void 0,this.nextSibling=void 0}}(),Q=function(){function t(){this.dirty=!0,this.moved=!0,this.copied=!1,this.updating=!1,this.unmounted=!1,this.internal=!0,this.key=void 0,this.value=void 0,this.dirtyStart=void 0,this.keyedChildren=void 0,this.firstChild=void 0,this.lastChild=void 0,this.previousSibling=void 0,this.nextSibling=void 0,this.alternate=void 0,this.onNewResult=void 0,this.ctx=void 0,this.scope=void 0,this.childScope=void 0}return t.prototype.appendChild=function(t){void 0===this.lastChild?(this.firstChild=t,this.lastChild=t,t.previousSibling=void 0,t.nextSibling=void 0):(t.previousSibling=this.lastChild,t.nextSibling=void 0,this.lastChild.nextSibling=t,this.lastChild=t)},t.prototype.insertBefore=function(t,e){null!=e?t!==e&&(t.nextSibling=e,void 0===e.previousSibling?(t.previousSibling=void 0,this.firstChild=t):(t.previousSibling=e.previousSibling,e.previousSibling.nextSibling=t),e.previousSibling=t):this.appendChild(t)},t.prototype.removeChild=function(t){void 0===t.previousSibling?this.firstChild=t.nextSibling:t.previousSibling.nextSibling=t.nextSibling,void 0===t.nextSibling?this.lastChild=t.previousSibling:t.nextSibling.previousSibling=t.previousSibling,t.previousSibling=void 0,t.nextSibling=void 0},t.prototype.replaceChild=function(t,e){this.insertBefore(t,e),this.removeChild(e)},t.prototype.update=function(t){return this.props=t,this.updating=!0,this.updateChildren(this.props&&this.props.children)},t.prototype.updateChildren=function(t){var e,n,r,o,s,l,a=this,u=this.firstChild,c=function(t){var e="object"==typeof t?t.tag:void 0,n="object"==typeof t?t.key:void 0;if(void 0!==n&&void 0!==l&&l.has(n)&&(n=void 0),void 0===u)if(void 0===n){if(e===G)return"continue";u=ot(h,h.renderer,t),h.appendChild(u)}else{if(void 0===(u=h.keyedChildren&&h.keyedChildren.get(n))){if(e===G)return"continue";u=ot(h,h.renderer,t)}else h.keyedChildren.delete(n),u.moved=!0,h.removeChild(u);h.appendChild(u)}else if(void 0!==n){var r=h.keyedChildren&&h.keyedChildren.get(n);if(void 0===r){if(e===G)return"continue";r=ot(h,h.renderer,t),h.insertBefore(r,u)}else h.keyedChildren.delete(n),u!==r&&(r.moved=!0,h.removeChild(r),h.insertBefore(r,u));u=r}else if(void 0!==u.key){for(;void 0!==u&&void 0!==u.key;)u=u.nextSibling;if(void 0===u){if(e===G)return"continue";u=ot(h,h.renderer,t),h.appendChild(u)}}if(e===G)u.internal&&(u.copied=!0);else if(u.tag===e)if(u.internal){var i=u.update(t.props);void 0!==i&&(s=void 0===s?i:s.then(function(){return i}))}else if("string"==typeof t){var o=h.renderer.text(t);u.dirty=u.value!==o,u.value=o}else u.dirty=void 0!==u.value,u.value=void 0;else{var a,c=ot(h,h.renderer,t);c.internal?a=c.update(t.props):c.value="string"==typeof t?h.renderer.text(t):void 0,void 0===a?u.internal&&u.unmount():(c.alternate=u,a=a.then(function(){for(var t=c.alternate;void 0!==t;t=t.alternate)t.internal&&t.unmount();c.alternate=void 0}),s=void 0===s?a:s.then(function(){return a})),h.replaceChild(c,u),u=c}void 0!==n&&(void 0===l&&(l=new Map),l.set(n,u)),u=u.nextSibling},h=this;try{for(var p=i(J(t)),d=p.next();!d.done;d=p.next()){c(d.value)}}catch(m){e={error:m}}finally{try{d&&!d.done&&(n=p.return)&&n.call(p)}finally{if(e)throw e.error}}for(var f=u&&u.nextSibling;void 0!==u;f=(u=f)&&u.nextSibling)void 0===u.key&&(u.internal&&u.unmount(),this.removeChild(u));if(void 0!==this.keyedChildren)try{for(var v=i(this.keyedChildren.values()),y=v.next();!y.done;y=v.next()){var g=y.value;g.unmount(),this.removeChild(g)}}catch(x){r={error:x}}finally{try{y&&!y.done&&(o=v.return)&&o.call(v)}finally{if(r)throw r.error}}if(this.keyedChildren=l,void 0!==this.onNewResult&&(this.onNewResult(s),this.onNewResult=void 0),void 0!==s){s=s.then(function(){return a.commit()});var b=new Promise(function(t){return a.onNewResult=t});return Promise.race([s,b])}this.commit()},t.prototype.commitChildren=function(){for(var t,e=[],n=0,r=this.firstChild;void 0!==r;r=r.nextSibling){var i=void 0;if(void 0!==r.alternate)for(i=r;void 0!==r.alternate;)r=r.alternate;if("string"==typeof r.value?t=void 0===t?r.value:t+r.value:r.tag!==F&&(void 0!==t&&(e.push(t),t=void 0),Array.isArray(r.value)?e=e.concat(r.value):void 0!==r.value&&e.push(r.value)),(r.dirty||r.internal&&r.moved)&&!this.dirty){if(r.internal&&!r.moved&&void 0!==r.dirtyStart)this.dirtyStart=n+r.dirtyStart;else for(var o=n-1;o>=0;o--)if("string"!=typeof e[o]){this.dirtyStart=o;break}this.dirty=!0}r.dirty=!1,r.internal&&(r.copied=!1,r.moved=!1,r.dirtyStart=void 0),n=e.length,void 0!==i&&(r=i)}return void 0!==t&&e.push(t),void 0===this.firstChild&&(this.dirty=!0),e},t.prototype.unmountChildren=function(t){for(var e=this.firstChild;void 0!==e;e=e.nextSibling)e.internal&&e.unmount(t)},t.prototype.catch=function(t){if(void 0===this.parent)throw t;return this.parent.catch(t)},t}(),X=function(t){function n(e,n,r){var i=t.call(this)||this;return i.tag=W,i.key=r,i.parent=e,i.renderer=n,i.ctx=e.ctx,i.scope=e.childScope,i}return e(n,t),n.prototype.commit=function(){var t=this.commitChildren();this.value=t.length>1?t:t[0],!this.updating&&this.dirty&&this.parent.commit(),this.updating=!1},n.prototype.unmount=function(t){void 0===t&&(t=!0),this.unmounted||(this.unmounted=!0,this.unmountChildren(t))},n}(Q),Z=function(t){function i(e,n,r,i,o){var s=t.call(this)||this;return s.dirtyProps=!0,s.dirtyChildren=!0,s.dirtyRemoval=!0,s.iterating=!1,s.finished=!1,s.value=void 0,s.iterator=void 0,s.childValues=[],s.tag=r,s.key=i,s.parent=e,s.renderer=n,s.intrinsic=n.intrinsic(r),s.ctx=e&&e.ctx,s.scope=e&&e.childScope,s.childScope=n.scope(r,o),s}return e(i,t),i.prototype.commit=function(){this.childValues=this.commitChildren(),this.dirtyProps=this.updating,this.dirtyChildren=this.dirty;try{this.commitSelf()}catch(t){if(void 0===this.parent)throw t;return this.parent.catch(t)}!this.updating&&this.dirty&&void 0!==this.parent&&this.parent.commit(),this.updating=!1},i.prototype.commitSelf=function(){if(void 0===this.iterator){var t=this.intrinsic.call(this,n(n({},this.props),{children:this.childValues}));if(!V(t))return this.dirty=this.value!==t,void(this.value=t);this.iterator=t}var e=this.iterator.next();this.dirty=this.value!==e.value,this.value=e.value,this.iterating=!1,e.done&&(this.finished=!0)},i.prototype.unmount=function(t){if(void 0===t&&(t=!0),!this.unmounted){if(!this.finished){if(this.dirtyRemoval=t,void 0!==this.iterator&&this.iterator.return)try{this.iterator.return()}catch(e){if(void 0===this.parent)throw e;return this.parent.catch(e)}this.finished=!0}this.unmounted=!0,this.unmountChildren(this.tag===F)}},i.prototype[Symbol.iterator]=function(){return r(this,function(t){switch(t.label){case 0:if(this.unmounted)return[3,2];if(this.iterating)throw new Error("You must yield for each iteration of this.");return this.iterating=!0,[4,n(n({},this.props),{children:this.childValues})];case 1:return t.sent(),[3,0];case 2:return[2]}})},i}(Q),tt=0,et=1,nt=2,rt=3,it=function(t){function n(e,n,r,i,o){var s=t.call(this)||this;return s.iterating=!1,s.finished=!1,s.stepping=!1,s.available=!1,s.iterator=void 0,s.oldResult=void 0,s.componentType=void 0,s.inflightPending=void 0,s.enqueuedPending=void 0,s.inflightResult=void 0,s.enqueuedResult=void 0,s.onProps=void 0,s.provisions=void 0,s.parent=e,s.renderer=n,s.tag=r,s.key=i,s.props=o,s.ctx=new lt(s,e.ctx),s.scope=e.childScope,s}return e(n,t),n.prototype.refresh=function(){var t=this;if(!this.stepping&&!this.unmounted){void 0===this.onProps?this.available=!0:(this.onProps(this.props),this.onProps=void 0);var e=this.run();if(void 0!==e)return e.then(function(){return t.commit()});this.commit()}},n.prototype.update=function(t){return this.props=t,this.updating=!0,void 0===this.onProps?this.available=!0:(this.onProps(this.props),this.onProps=void 0),this.run()},n.prototype.updateChildren=function(e){return N(e)&&(e=$(W,null,e)),t.prototype.updateChildren.call(this,e)},n.prototype.run=function(){var t,e=this;if(void 0===this.inflightPending){var n=o(this.step(),2),r=n[0],i=n[1];return D(r)&&(this.inflightPending=r.finally(function(){return e.advance()})),this.inflightResult=i,this.inflightResult}return this.componentType===rt?this.inflightResult:(void 0===this.enqueuedPending&&(this.enqueuedPending=this.inflightPending.then(function(){var n=o(e.step(),2),r=n[0],i=n[1];return t(i),r}).finally(function(){return e.advance()}),this.enqueuedResult=new Promise(function(e){return t=e})),this.enqueuedResult)},n.prototype.step=function(){var t=this;if(this.finished)return[void 0,void 0];if(this.stepping=!0,void 0===this.iterator){this.ctx.clearEventListeners();var e=void 0;try{e=this.tag.call(this.ctx,this.props)}catch(c){return[void 0,a=this.parent.catch(c)]}if(!V(e)){if(D(e)){var n=q(e);this.componentType=et;var r=n.then(function(){},function(){}),i=n.then(function(e){return t.updateChildren(e)},function(e){return t.parent.catch(e)});return this.stepping=!1,[r,i]}this.componentType=tt;var o=this.updateChildren(e);return this.stepping=!1,[void 0,o]}this.iterator=e}var s,l=void 0===this.oldResult?this.value:this.oldResult.then(function(){return t.value});this.oldResult=void 0;try{s=this.iterator.next(l)}catch(c){var a;return[a=this.parent.catch(c),a]}if(this.stepping=!1,D(s))return this.componentType=rt,[(s=s.catch(function(e){var n=t.parent.catch(e);return void 0===n?{value:void 0,done:!0}:n.then(function(){return{value:void 0,done:!0}})})).then(function(){},function(){}),s.then(function(e){t.iterating=!1,e.done&&(t.finished=!0);var n=t.updateChildren(e.value);return D(n)&&(t.oldResult=n.catch(function(){})),n})];this.iterating=!1,this.componentType=nt,s.done&&(this.finished=!0);var u=this.updateChildren(s.value);return[u,u]},n.prototype.advance=function(){var t=this;this.inflightPending=this.enqueuedPending,this.inflightResult=this.enqueuedResult,this.enqueuedPending=void 0,this.enqueuedResult=void 0,this.componentType!==rt||this.finished||this.run().catch(function(e){if(!t.updating)throw e})},n.prototype.commit=function(){var t=this.commitChildren();this.value=t.length>1?t:t[0],B(this.value)?this.ctx.setDelegate(this.value):t.length>1&&this.ctx.setDelegates(t),!this.updating&&this.dirty&&this.parent.commit(),this.updating=!1},n.prototype.unmount=function(t){var e=this;if(void 0===t&&(t=!0),!this.unmounted&&(this.updating=!1,this.unmounted=!0,this.ctx.clearEventListeners(),!this.finished)){if(this.finished=!0,void 0!==this.onProps&&(this.onProps(this.props),this.onProps=void 0),void 0!==this.iterator&&this.iterator.return){var n=void 0;try{n=this.iterator.return()}catch(r){return this.parent.catch(r)}if(D(n))return n.then(function(){e.unmountChildren(t)},function(t){return e.parent.catch(t)})}this.unmountChildren(t)}},n.prototype.catch=function(e){var n,r=this;if(void 0===this.iterator||void 0===this.iterator.throw||this.finished)return t.prototype.catch.call(this,e);void 0!==this.onProps&&(this.onProps(this.props),this.onProps=void 0);try{n=this.iterator.throw(e)}catch(i){return this.parent.catch(i)}return D(n)?n.then(function(t){return t.done&&(r.finished=!0),r.updateChildren(t.value)},function(t){return r.parent.catch(t)}):(n.done&&(this.finished=!0),this.updateChildren(n.value))},n.prototype.get=function(t){for(var e=this.parent;void 0!==e;e=e.parent)if(e instanceof n&&void 0!==e.provisions&&e.provisions.has(t))return e.provisions.get(t)},n.prototype.set=function(t,e){void 0===this.provisions&&(this.provisions=new Map),this.provisions.set(t,e)},n.prototype[Symbol.iterator]=function(){return r(this,function(t){switch(t.label){case 0:if(this.unmounted)return[3,2];if(this.iterating)throw new Error("You must yield for each iteration of this.");if(this.componentType===rt)throw new Error("Use for await...of in async generator components.");return this.iterating=!0,[4,this.props];case 1:return t.sent(),[3,0];case 2:return[2]}})},n.prototype[Symbol.asyncIterator]=function(){return l(this,arguments,function(){var t,e=this;return r(this,function(n){switch(n.label){case 0:if(this.iterating)throw new Error("You must yield for each iteration of this.");if(this.componentType===nt)throw new Error("Use for...of in sync generator components.");return this.iterating=!0,this.available?(this.available=!1,[4,s(this.props)]):[3,3];case 1:return[4,n.sent()];case 2:return n.sent(),[3,7];case 3:return[4,s(new Promise(function(t){return e.onProps=t}))];case 4:return t=n.sent(),this.unmounted?[3,7]:[4,s(t)];case 5:return[4,n.sent()];case 6:n.sent(),n.label=7;case 7:if(!this.unmounted)return[3,0];n.label=8;case 8:return[2]}})})},n}(Q);function ot(t,e,n){return void 0===n||"string"==typeof n?new K:n.tag===W?new X(t,e,n.key):"function"==typeof n.tag?new it(t,e,n.tag,n.key,n.props):new Z(t,e,n.tag,n.key,n.props)}var st=new WeakMap,lt=function(t){function n(e,n){var r=t.call(this,n)||this;return st.set(r,e),r}return e(n,t),n.prototype.get=function(t){return st.get(this).get(t)},n.prototype.set=function(t,e){st.get(this).set(t,e)},n.prototype[Symbol.iterator]=function(){return st.get(this)[Symbol.iterator]()},n.prototype[Symbol.asyncIterator]=function(){return st.get(this)[Symbol.asyncIterator]()},n.prototype.refresh=function(){return st.get(this).refresh()},n}(A);exports.a=lt;var at=Symbol.for("crank.Default");exports.D=at;var ut=Symbol.for("crank.Text");exports.T=ut;var ct=Symbol.for("crank.Scopes");exports.S=ct;var ht=((I={})[at]=function(t){throw new Error("Environment did not provide an intrinsic for tag: "+t)},I[F]=function(){throw new Error("Environment did not provide an intrinsic for Portal")},I[Y]=function(t){return t.value},I),pt=function(){function t(t){this.cache=new WeakMap,this.defaultIntrinsics={},this.env=n({},ht),this.scoper={},this.extend(t)}return t.prototype.extend=function(t){var e,n,r,o,s,l,a,u;if(null!=t){try{for(var c=i(Object.keys(t)),h=c.next();!h.done;h=c.next()){null!=t[m=h.value]&&(this.env[m]=t[m])}}catch(x){e={error:x}}finally{try{h&&!h.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}try{for(var p=i(Object.getOwnPropertySymbols(t)),d=p.next();!d.done;d=p.next()){null!=t[m=d.value]&&m!==ct&&(this.env[m]=t[m])}}catch(w){r={error:w}}finally{try{d&&!d.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}if(null!=t[ct]){var f=t[ct];try{for(var v=i(Object.keys(f)),y=v.next();!y.done;y=v.next()){null!=f[m=y.value]&&(this.scoper[m]=f[m])}}catch(S){s={error:S}}finally{try{y&&!y.done&&(l=v.return)&&l.call(v)}finally{if(s)throw s.error}}try{for(var g=i(Object.getOwnPropertySymbols(t)),b=g.next();!b.done;b=g.next()){var m;null!=f[m=b.value]&&(this.scoper[m]=f[m])}}catch(P){a={error:P}}finally{try{b&&!b.done&&(u=g.return)&&u.call(g)}finally{if(a)throw a.error}}}}},t.prototype.render=function(t,e){var n=N(t)?$(W,null,t):t,r=H(n)&&n.tag===F?n:$(F,{root:e},n),i=null!=e?this.cache.get(e):void 0;void 0===i?(i=new Z(void 0,this,r.tag,void 0,r.props),void 0!==e&&null!=n&&this.cache.set(e,i)):null!=e&&null==n&&this.cache.delete(e);var o=i.update(r.props);return D(o)?o.then(function(){return i.commit(),null==r.props.root&&i.unmount(),i.value}):(i.commit(),null==r.props.root&&i.unmount(),i.value)},t.prototype.intrinsic=function(t){if(this.env[t])return this.env[t];if(void 0!==this.defaultIntrinsics[t])return this.defaultIntrinsics[t];var e=this.env[at](t);return this.defaultIntrinsics[t]=e,e},t.prototype.scope=function(t,e){return t in this.scoper?"function"==typeof this.scoper[t]?this.scoper[t](e):this.scoper[t]:"function"==typeof this.scoper[at]?this.scoper[at](t,e):void 0},t.prototype.text=function(t){return void 0!==this.env[ut]?this.env[ut](t):t},t}();exports.b=pt;
},{}],"fgIV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Context",{enumerable:!0,get:function(){return e.a}}),Object.defineProperty(exports,"Copy",{enumerable:!0,get:function(){return e.C}}),Object.defineProperty(exports,"Default",{enumerable:!0,get:function(){return e.D}}),Object.defineProperty(exports,"Fragment",{enumerable:!0,get:function(){return e.F}}),Object.defineProperty(exports,"Portal",{enumerable:!0,get:function(){return e.P}}),Object.defineProperty(exports,"Raw",{enumerable:!0,get:function(){return e.R}}),Object.defineProperty(exports,"Renderer",{enumerable:!0,get:function(){return e.b}}),Object.defineProperty(exports,"Scopes",{enumerable:!0,get:function(){return e.S}}),Object.defineProperty(exports,"Text",{enumerable:!0,get:function(){return e.T}}),Object.defineProperty(exports,"createElement",{enumerable:!0,get:function(){return e.c}}),Object.defineProperty(exports,"isElement",{enumerable:!0,get:function(){return e.i}});var e=require("./index-e4c589c1.js");
},{"./index-e4c589c1.js":"pACn"}],"GPq9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.renderer=exports.env=exports.DOMRenderer=void 0;var e,r=require("./index-e4c589c1.js"),t="http://www.w3.org/2000/svg",n=new Set(["form","list","type","size"]);function s(e,t,s,i){for(var l in(0,r.f)((0,r.f)({},t),s)){var a=t[l],o=s[l];switch(l){case"children":break;case"class":case"className":void 0===i?e.className=o:e.setAttribute("class",o);break;case"style":var c=e.style;if(null!=c)if(null==o)e.removeAttribute("style");else if("string"==typeof o)c.cssText=o;else for(var u in(0,r.f)((0,r.f)({},a),o)){var d=a&&a[u],f=o&&o[u];null==f?c.removeProperty(u):d!==f&&c.setProperty(u,f)}break;default:if(void 0===i&&l in e&&!n.has(l)){e[l]=o;break}!0===o?e.setAttribute(l,""):!1===o||null==o?e.removeAttribute(l):e.setAttribute(l,o)}}}function i(e,r,t){if(0!==r.length){for(var n=void 0===r[t]?e.firstChild:r[t],s=t||0;null!==n&&s<r.length;){if(n===(l=r[s]))n=n.nextSibling,s++;else if("string"==typeof l)void 0!==n.splitText?(n.nodeValue=l,n=n.nextSibling):e.insertBefore(document.createTextNode(l),n),s++;else if(void 0!==n.splitText){var i=n.nextSibling;e.removeChild(n),n=i}else if(e.insertBefore(l,n),n!==r[++s]){i=n.nextSibling;e.removeChild(n),n=i}}for(;null!==n;){i=n.nextSibling;e.removeChild(n),n=i}for(;s<r.length;s++){var l=r[s];e.appendChild("string"==typeof l?document.createTextNode(l):l)}}else e.textContent=""}function l(e){if("function"==typeof document.createRange)return document.createRange().createContextualFragment(e);for(var r=document.createDocumentFragment(),t=(new DOMParser).parseFromString(e,"text/html").body.childNodes,n=0;n<t.length;n++)r.appendChild(t[n]);return r}var a=((e={})[r.D]=function(e){if("string"!=typeof e)throw new Error("Unknown tag: "+e.toString());var n;return function(){var l,a,o,c,u,d,f,h,v,p;return(0,r._)(this,function(y){switch(y.label){case 0:l="svg"===e?t:this.scope,void 0===n&&(n=null==l?document.createElement(e):document.createElementNS(l,e)),a=n.cloneNode(),o={},c=0,y.label=1;case 1:y.trys.push([1,,10,11]),y.label=2;case 2:y.trys.push([2,7,8,9]),u=(0,r.e)(this),d=u.next(),y.label=3;case 3:return d.done?[3,6]:(f=d.value,this.dirtyProps&&s(a,o,f,l),this.dirtyChildren&&void 0===f.innerHTML&&(c>0||f.children.length>0)&&i(a,f.children,this.dirtyStart),o=f,c=f.children.length,[4,a]);case 4:y.sent(),y.label=5;case 5:return d=u.next(),[3,3];case 6:return[3,9];case 7:return h=y.sent(),v={error:h},[3,9];case 8:try{d&&!d.done&&(p=u.return)&&p.call(u)}finally{if(v)throw v.error}return[7];case 9:return[3,11];case 10:return this.dirtyRemoval&&null!==a.parentNode&&a.parentNode.removeChild(a),[7];case 11:return[2]}})}},e[r.R]=function(e){var t,n,s,i,a,o,c,u=e.value;return(0,r._)(this,function(e){switch(e.label){case 0:e.trys.push([0,7,8,9]),n=(0,r.e)(this),s=n.next(),e.label=1;case 1:return s.done?[3,6]:(i=s.value.value,"string"!=typeof u?[3,3]:(void 0!==t&&u===i||(t=l(u),u=i),[4,t]));case 2:return e.sent(),[3,5];case 3:return t=void 0,[4,u];case 4:e.sent(),e.label=5;case 5:return s=n.next(),[3,1];case 6:return[3,9];case 7:return a=e.sent(),o={error:a},[3,9];case 8:try{s&&!s.done&&(c=n.return)&&c.call(n)}finally{if(o)throw o.error}return[7];case 9:return[2]}})},e[r.P]=function(e){var t,n,s,l,a,o,c,u,d=e.root;return(0,r._)(this,function(e){switch(e.label){case 0:if(null==d)throw new TypeError("Portal element is missing root node");e.label=1;case 1:e.trys.push([1,,10,11]),e.label=2;case 2:e.trys.push([2,7,8,9]),t=(0,r.e)(this),n=t.next(),e.label=3;case 3:if(n.done)return[3,6];if(s=n.value,l=s.root,a=s.children,null==l)throw new TypeError("Portal element is missing root node");return d!==l?(i(d,[]),i(d=l,a)):this.dirtyChildren&&i(d,a),[4,d];case 4:e.sent(),e.label=5;case 5:return n=t.next(),[3,3];case 6:return[3,9];case 7:return o=e.sent(),c={error:o},[3,9];case 8:try{n&&!n.done&&(u=t.return)&&u.call(t)}finally{if(c)throw c.error}return[7];case 9:return[3,11];case 10:return i(d,[]),[7];case 11:return[2]}})},e[r.S]={svg:t,foreignObject:void 0},e);exports.env=a;var o=function(e){function t(){return e.call(this,a)||this}return(0,r.d)(t,e),t}(r.b);exports.DOMRenderer=o;var c=new o;exports.renderer=c;
},{"./index-e4c589c1.js":"pACn"}],"QOVZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./esm/dom.js");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});
},{"./esm/dom.js":"GPq9"}],"khZk":[function(require,module,exports) {
var define;
var e;parcelRequire=function(r,t,n,o){var u,i="function"==typeof parcelRequire&&parcelRequire,c="function"==typeof require&&require;function a(e,n){if(!t[e]){if(!r[e]){var o="function"==typeof parcelRequire&&parcelRequire;if(!n&&o)return o(e,!0);if(i)return i(e,!0);if(c&&"string"==typeof e)return c(e);var u=new Error("Cannot find module '"+e+"'");throw u.code="MODULE_NOT_FOUND",u}f.resolve=function(t){return r[e][1][t]||t},f.cache={};var s=t[e]=new a.Module(e);r[e][0].call(s.exports,f,s,s.exports,this)}return t[e].exports;function f(e){return a(f.resolve(e))}}a.isParcelRequire=!0,a.Module=function(e){this.id=e,this.bundle=a,this.exports={}},a.modules=r,a.cache=t,a.parent=i,a.register=function(e,t){r[e]=[function(e,r){r.exports=t},{}]};for(var s=0;s<n.length;s++)try{a(n[s])}catch(r){u||(u=r)}if(n.length){var f=a(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=f:"function"==typeof e&&e.amd?e(function(){return f}):this[o]=f}if(parcelRequire=a,u)throw u;return a}({ijiP:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeDefer=function(){var e,r,t=new Promise(function(t,n){return e=t,r=n});return{resolve:e,reject:r,promise:t}}},{}],dQTg:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Observable=void 0;var n=e("./utility"),o=function(e,r,t,n){return new(t||(t=Promise))(function(o,u){function i(e){try{a(n.next(e))}catch(r){u(r)}}function c(e){try{a(n.throw(e))}catch(r){u(r)}}function a(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t(function(e){e(r)})).then(i,c)}a((n=n.apply(e,r||[])).next())})},u=function(e,r){var t,n,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function c(u){return function(c){return function(u){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=r.call(e,i)}catch(c){u=[6,c],n=0}finally{t=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},i=function(e){return this instanceof i?(this.v=e,this):new i(e)},c=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,t=e[Symbol.asyncIterator];return t?t.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(t){r[t]=e[t]&&function(r){return new Promise(function(n,o){!function(e,r,t,n){Promise.resolve(n).then(function(r){e({value:r,done:t})},r)}(n,o,(r=e[t](r)).done,r.value)})}}};Symbol.observable||(Symbol.observable=Symbol("observable"));var a=function(){function e(e){this.subscriber=e}return e.prototype[Symbol.observable]=function(){return this},e.prototype[Symbol.asyncIterator]=function(){return function(e,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=t.apply(e,r||[]),u=[];return n={},c("next"),c("throw"),c("return"),n[Symbol.asyncIterator]=function(){return this},n;function c(e){o[e]&&(n[e]=function(r){return new Promise(function(t,n){u.push([e,r,t,n])>1||a(e,r)})})}function a(e,r){try{(t=o[e](r)).value instanceof i?Promise.resolve(t.value.v).then(s,f):l(u[0][2],t)}catch(n){l(u[0][3],n)}var t}function s(e){a("next",e)}function f(e){a("throw",e)}function l(e,r){e(r),u.shift(),u.length&&a(u[0][0],u[0][1])}}(this,arguments,function(){var e,r,t,o;return u(this,function(u){switch(u.label){case 0:e=[(0,n.makeDefer)()],t=!1,o={next:function(r){t||(e[e.length-1].resolve(r),e.push((0,n.makeDefer)()))},error:function(n){t||(e[e.length-1].reject(n),t=!0),r&&r()},complete:function(){t||(e[e.length-1].resolve(),t=!0),r&&r()}},r=this.subscriber(o),u.label=1;case 1:return[4,i(e[0].promise)];case 2:return[4,u.sent()];case 3:u.sent(),e.shift(),u.label=4;case 4:if(e[0])return[3,1];u.label=5;case 5:return[2]}})})},e.of=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new this(function(r){for(var t=r.next,n=r.complete,o=0,u=e;o<u.length;o++)t(u[o]);n()})},e.prototype.toPromise=function(){var e,r;return o(this,void 0,void 0,function(){var t,n,o,i,a;return u(this,function(u){switch(u.label){case 0:t=[],u.label=1;case 1:u.trys.push([1,6,7,12]),n=c(this),u.label=2;case 2:return[4,n.next()];case 3:if((o=u.sent()).done)return[3,5];i=o.value,t.push(i),t.length>2&&t.shift(),u.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return a=u.sent(),e={error:a},[3,12];case 7:return u.trys.push([7,,10,11]),o&&!o.done&&(r=n.return)?[4,r.call(n)]:[3,9];case 8:u.sent(),u.label=9;case 9:return[3,11];case 10:if(e)throw e.error;return[7];case 11:return[7];case 12:return[2,t[0]]}})})},e.prototype.subscribe=function(e,r,t){var n=!1;return o(this,void 0,void 0,function(){var o,i,a,s,f,l,b;return u(this,function(u){switch(u.label){case 0:u.trys.push([0,13,,14]),u.label=1;case 1:u.trys.push([1,6,7,12]),o=c(this),u.label=2;case 2:return[4,o.next()];case 3:if((i=u.sent()).done)return[3,5];if(a=i.value,n)return[3,5];e(a),u.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return s=u.sent(),l={error:s},[3,12];case 7:return u.trys.push([7,,10,11]),i&&!i.done&&(b=o.return)?[4,b.call(o)]:[3,9];case 8:u.sent(),u.label=9;case 9:return[3,11];case 10:if(l)throw l.error;return[7];case 11:return[7];case 12:return t instanceof Function&&t(),[3,14];case 13:return f=u.sent(),r instanceof Function&&r(f),[3,14];case 14:return[2]}})}),{unsubscribe:function(){n=!0},get closed(){return n}}},e.from=function(e){return new this(function(r){var t=r.next,n=r.error,o=r.complete;return e.subscribe(t,n,o).unsubscribe})},e.fromEvent=function(e,r){return new this(function(t){var n=t.next,o=t.error;return"function"==typeof e.on?e.on(r,n).on("error",o):(e.addEventListener(r,n),e.addEventListener("error",o)),function(){"function"==typeof e.off?e.off(r,n).off("error",o):(e.removeEventListener(r,n),e.removeEventListener("error",o))}})},e}();t.Observable=a},{"./utility":"ijiP"}],A3qM:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createQueue=function(){var e,r;return{process:function(r){var t=(0,o.makeDefer)();if(!e)throw Error("Can't process data before Queue consuming");return e({defer:t,data:r}),t.promise},destroy:function(){if(!r)throw Error("Can't stop a Queue before Queue consuming");r()},observable:new n.Observable(function(t){var n=t.next,o=t.complete;e=n,r=o})}};var n=e("./Observable"),o=e("./utility")},{"./Observable":"dQTg","./utility":"ijiP"}],QCba:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("./utility");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})});var o=e("./Observable");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var u=e("./Queue");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})})},{"./utility":"ijiP","./Observable":"dQTg","./Queue":"A3qM"}]},{},["QCba"],"IterableObserver");
},{}],"bkBW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isEmpty=e,exports.uniqueID=t,exports.differ=n,exports.groupBy=o,exports.parseJSON=i,exports.parseTextTable=a;var r=function(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function e(r){return!(null!=r)||!r&&isNaN(r)||r+""==""}function t(){return(Date.now()+parseInt((Math.random()+"").slice(2))).toString(36)}function n(r,e){var t={};for(var n in e)null==r[n]&&(t[n]=e[n]);return t}function o(e,t){var n,o,i,u,a={};try{for(var l=r(e),c=l.next();!c.done;c=l.next()){var f=c.value,s=t instanceof Function?t(f):f[t];s instanceof Array||(s=[s]);try{for(var p=(i=void 0,r(new Set(s.filter(function(r){return null!=r})))),v=p.next();!v.done;v=p.next()){var y=v.value;(a[y]=a[y]||[]).push(f)}}catch(d){i={error:d}}finally{try{v&&!v.done&&(u=p.return)&&u.call(p)}finally{if(i)throw i.error}}}}catch(h){n={error:h}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}return a}function i(r){try{return JSON.parse(r)}catch(e){return r}}function u(r){var e=r[0],t=r.indexOf(e,1);if(t<0)throw SyntaxError("A "+e+" is missing");return r.slice(1,t)}function a(r,e,t){void 0===t&&(t=",");var n=r.trim().split(/[\r\n]+/).map(function(r){var e=[];do{var n=void 0;if('"'===r[0]||"'"===r[0])n=u(r),r=r.slice(n.length+3);else{var o=r.indexOf(t);o>-1?(n=r.slice(0,o),r=r.slice(o+1)):(n=r,r="")}try{n=n.trim(),e.push(JSON.parse(n))}catch(i){e.push(n)}}while(r);return e});return e?n.slice(1).map(function(r){return r.reduce(function(r,e,t){return r[n[0][t]]=e,r},{})}):n}
},{}],"eR4X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseDOM=l,exports.walkDOM=c,exports.insertToCursor=u,exports.scrollTo=s,exports.watchVisible=f,exports.formToJSON=d;var e=require("./data"),r=function(e,r){var t,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=r.call(e,i)}catch(l){a=[6,l],n=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},t=function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,a=t.call(e),i=[];try{for(;(void 0===r||r-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i},n=function(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(t(arguments[r]));return e},o=function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},a=document.createElement("template"),i=document.createDocumentFragment();function l(e){return a.innerHTML=e,n(a.content.childNodes).map(function(e){return e.remove(),e})}function c(e){var t,a,i,l,u,s,f;return r(this,function(r){switch(r.label){case 0:return t=n(e.childNodes),[4,e];case 1:r.sent(),r.label=2;case 2:r.trys.push([2,7,8,9]),a=o(t),i=a.next(),r.label=3;case 3:return i.done?[3,6]:(l=i.value,[5,o(c(l))]);case 4:r.sent(),r.label=5;case 5:return i=a.next(),[3,3];case 6:return[3,9];case 7:return u=r.sent(),s={error:u},[3,9];case 8:try{i&&!i.done&&(f=a.return)&&f.call(a)}finally{if(s)throw s.error}return[7];case 9:return[2]}})}function u(){for(var e,r,t,a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];i.append.apply(i,n(a));try{for(var u=o(c(i)),s=u.next();!s.done;s=u.next()){var f=s.value;[1,3,11].includes(f.nodeType)&&!["meta","title","link","script"].includes(f.nodeName.toLowerCase())||(t=f).replaceWith.apply(t,n(f.childNodes))}}catch(y){e={error:y}}finally{try{s&&!s.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}var d=self.getSelection();if(d){var p=d.getRangeAt(0);p.deleteContents(),p.insertNode(i)}}function s(e,r){var n,o=t(/^#(.+)/.exec(e)||[],2),a=(o[0],o[1]);"top"===a?window.scrollTo({top:0,left:0,behavior:"smooth"}):null===(n=(r||document).querySelector(a?'[id="'+a+'"]':e))||void 0===n||n.scrollIntoView({behavior:"smooth"})}function f(e,r){var n="visible"===document.visibilityState?1:0;function o(e){3!==e&&3!==n||r(3===e),n=e}new IntersectionObserver(function(e){return o(t(e,1)[0].isIntersecting?2|n:1&n)}).observe(e),document.addEventListener("visibilitychange",function(){return o("visible"===document.visibilityState?1|n:2&n)})}function d(r){var t,n,a={};try{for(var i=o(r.elements),l=i.next();!l.done;l=i.next()){var c=l.value,u=c,s=u.tagName,f=u.type,p=u.name,y=u.value,v=u.checked,h=u.defaultValue,b=u.selectedOptions;if(p){var m="fieldset"!==(s=s.toLowerCase())&&c.closest("fieldset");if(!m||m===r){if(["radio","checkbox"].includes(f)){if(!v)continue;y=h||"true"}var w=(0,e.parseJSON)(y);switch(s){case"select":w=Array.from(b,function(r){var t=r.value;return(0,e.parseJSON)(t)});break;case"fieldset":w=d(c)}a[p]=p in a?[].concat(a[p],w):w instanceof Array&&(0,e.isEmpty)(w[1])?w[0]:w}}}}catch(x){t={error:x}}finally{try{l&&!l.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return a}
},{"./data":"bkBW"}],"LcDj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isXDomain=n,exports.parseURLData=a,exports.buildURLData=o,exports.blobFrom=l;var r=require("./data"),e=function(r,e){var t="function"==typeof Symbol&&r[Symbol.iterator];if(!t)return r;var n,a,o=t.call(r),i=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)i.push(n.value)}catch(l){a={error:l}}finally{try{n&&!n.done&&(t=o.return)&&t.call(o)}finally{if(a)throw a.error}}return i},t=function(){for(var r=[],t=0;t<arguments.length;t++)r=r.concat(e(arguments[t]));return r};function n(r){return new URL(r,document.baseURI).origin!==self.location.origin}function a(e){void 0===e&&(e=window.location.search);var n=new URLSearchParams(/(?:\?|#)?(\S+)/.exec(e)[1]);return Object.fromEntries(t(n.keys()).map(function(e){var t=n.getAll(e).map(r.parseJSON);return[e,t.length<2?t[0]:t]}))}function o(t){return t instanceof Array||(t=Object.entries(t)),new URLSearchParams(t.map(function(t){var n,a=e(t,2),o=a[0],i=a[1];return!(0,r.isEmpty)(i)&&[o,(null===(n=i.toJSON)||void 0===n?void 0:n.call(i))||i+""]}).filter(Boolean))}var i=/^data:(.+?\/(.+?))?(;base64)?,([\s\S]+)/;function l(r){var t=e(i.exec(r)||[],5),n=(t[0],t[1]),a=(t[2],t[3]),o=t[4];o=a?self.atob(o):o;for(var l=new ArrayBuffer(o.length),c=new Uint8Array(l),u=0;o[u];u++)c[u]=o.charCodeAt(u);return new Blob([l],{type:n})}
},{"./data":"bkBW"}],"S1DR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.History=exports.PathPrefix=void 0;var t,e=require("iterable-observer"),r=require("web-utility/source/DOM"),n=require("web-utility/source/URL"),i=function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function a(t){try{s(n.next(t))}catch(e){o(e)}}function u(t){try{s(n.throw(t))}catch(e){o(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(a,u)}s((n=n.apply(t,e||[])).next())})},o=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(u){o=[6,u],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},a=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};exports.PathPrefix=t,function(t){t.hash="#",t.path="/"}(t||(exports.PathPrefix=t={}));var u=window.location,s=window.history,l=function(){function l(i){var o=this;void 0===i&&(i="hash"),this.stream=(0,e.createQueue)(),this.paths=[],this.handleClick=function(t){var e=t.target.closest("a[href], area[href]");if(e){var n=l.getInnerPath(e);if(n){if(t.preventDefault(),/^#.+/.test(n))return(0,r.scrollTo)(n,t.currentTarget);o.push(n,l.getTitle(e))}}},this.handleForm=function(t){var e=t.target,i=l.getInnerPath(e);i&&(t.preventDefault(),o.push(i+"?"+(0,n.buildURLData)((0,r.formToJSON)(e)),e.title))},this.popping=!1,this.prefix=t[i]}return Object.defineProperty(l.prototype,"path",{get:function(){return u[this.prefix===t.hash?"hash":"pathname"].slice(1)},enumerable:!1,configurable:!0}),l.prototype[Symbol.asyncIterator]=function(){return this.stream.observable[Symbol.asyncIterator]()},l.prototype.set=function(t,e){return void 0===e&&(e=document.title),i(this,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return this.paths.indexOf(t)<0&&this.paths.push(t),[4,this.stream.process(t)];case 1:return r.sent(),document.title=e,[2]}})})},l.prototype.push=function(t,e){return void 0===e&&(e=document.title),s.pushState({path:t,title:e},e,this.prefix+t),this.set(t,e)},l.prototype.replace=function(t,e){return void 0===e&&(e=document.title),s.replaceState({path:t,title:e},e,this.prefix+t),this.set(t,e)},l.prototype.compare=function(t,e){var r,n;try{for(var i=a(this.paths),o=i.next();!o.done;o=i.next()){var u=o.value;if(t===u)return-1;if(e===u)return 1}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return 0},l.getInnerPath=function(t){var e=t.getAttribute("href")||t.getAttribute("action");if(!("_self"!==(t.target||"_self")||e.match(/^\w+:/)||t instanceof HTMLFormElement&&"get"!==(t.getAttribute("method")||"get").toLowerCase()))return e},l.getTitle=function(t){var e,n;if(t.title)return t.title;var i="";try{for(var o=a((0,r.walkDOM)(t)),u=o.next();!u.done;u=o.next()){var s=u.value;if(s instanceof Text){var l=s.parentElement.getBoundingClientRect(),c=l.width,h=l.height;c&&h&&(i+=s.nodeValue.trim())}}}catch(f){e={error:f}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i},l.prototype.listen=function(e){var r=this;return e.addEventListener("click",this.handleClick),e.addEventListener("submit",this.handleForm),this.prefix===t.hash&&window.addEventListener("hashchange",function(){return r.popping||r.set(r.path)}),window.addEventListener("popstate",function(t){var e=t.state;return i(r,void 0,void 0,function(){var t,r,n,i;return o(this,function(o){switch(o.label){case 0:return r=(t=e||{}).path,n=void 0===r?this.path:r,i=t.title,this.popping=!0,[4,this.set(n,i)];case 1:return o.sent(),this.popping=!1,[2]}})})}),setTimeout(function(){var t;return r.replace(r.path,null===(t=s.state)||void 0===t?void 0:t.title)}),this},l}();exports.History=l;
},{"iterable-observer":"khZk","web-utility/source/DOM":"eR4X","web-utility/source/URL":"LcDj"}],"qVGN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.promisify=i,exports.createMessageServer=a,exports.createMessageClient=s;var e=require("./data"),n=function(){return(n=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},t=function(e,n,t,r){return new(t||(t=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(n){i(n)}}function s(e){try{u(r.throw(e))}catch(n){i(n)}}function u(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(a,s)}u((r=r.apply(e,n||[])).next())})},r=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(s){i=[6,s],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},o=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t};function i(e,n){return new Promise(function(t,r){function o(e){t(e),a()}function i(e){r(e),a()}function a(){n.removeEventListener(e+"end",o),n.removeEventListener(e+"cancel",i)}n.addEventListener(e+"end",o),n.addEventListener(e+"cancel",i)})}function a(e){function i(i){var a,s=i.data,u=s.type,c=s.id,l=o(s,["type","id"]),f=i.source,p=i.origin;return t(this,void 0,void 0,function(){var t;return r(this,function(r){switch(r.label){case 0:return(t=null===(a=e[u])||void 0===a?void 0:a.call(e,l))instanceof Promise?[4,t]:[3,2];case 1:t=r.sent(),r.label=2;case 2:return f.postMessage(n(n({},t),{id:c}),p),[2]}})})}return self.addEventListener("message",i),function(){return self.removeEventListener("message",i)}}function s(t,r){return void 0===r&&(r="*"),function(i,a){return new Promise(function(s){var u=(0,e.uniqueID)();self.addEventListener("message",function e(n){var t=n.data,r=t.id,i=o(t,["id"]);r===u&&(s(i),self.removeEventListener("message",e))}),t.postMessage(n({id:u,type:i},a),r)})}}
},{"./data":"bkBW"}],"dX6o":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.durationOf=r,exports.watchMotion=o,exports.transitIn=u,exports.animateIn=s,exports.transitOut=c,exports.animateOut=l;var t=require("./event"),n=function(t,n,e,r){return new(e||(e=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(n){i(n)}}function u(t){try{s(r.throw(t))}catch(n){i(n)}}function s(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e(function(t){t(n)})).then(a,u)}s((r=r.apply(t,n||[])).next())})},e=function(t,n){var e,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(t,a)}catch(u){i=[6,u],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function r(t,n){var e=getComputedStyle(n),r=e.transitionDuration,o=e.animationDuration,i="animation"===t?o:r;return parseFloat(i)*("ms"===i.slice(-2)?1:1e3)}function o(n,e){return Promise.race([(0,t.promisify)(n,e).catch(function(t){return Promise.resolve(t)}),new Promise(function(t){return setTimeout(t,r(n,e))})])}function i(t,n,e,r){n.style.display=r;var i=o(t,n);return new Promise(function(t){return self.requestAnimationFrame(function(){n.classList.add(e),i.then(t)})})}function a(t,r,i,a){return n(this,void 0,void 0,function(){var n;return e(this,function(e){switch(e.label){case 0:return n=o(t,r),r.classList.remove(i),[4,n];case 1:return e.sent(),a?r.remove():r.style.display="none",[2]}})})}function u(t,n,e){return void 0===e&&(e="block"),i("transition",t,n,e)}function s(t,n,e){return void 0===e&&(e="block"),i("animation",t,n,e)}function c(t,n,e){return a("transition",t,n,e)}function l(t,n,e){return a("animation",t,n,e)}
},{"./event":"qVGN"}],"yhWQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.watchStop=o,exports.parsePath=a;var t=require("web-utility/source/animation"),r=require("web-utility/source/URL"),e=function(){return(e=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++)for(var o in r=arguments[e])Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);return t}).apply(this,arguments)},n=function(t,r){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var n,o,a=e.call(t),i=[];try{for(;(void 0===r||r-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(e=a.return)&&e.call(a)}finally{if(o)throw o.error}}return i};function o(r){return(0,t.watchMotion)((0,t.durationOf)("transition",r)?"transition":"animation",r)}function a(t){var o=n(t.split("?"),2),a=o[0],i=o[1];return i?e(e({},(0,r.parseURLData)(i)),{path:a}):{path:a}}
},{"web-utility/source/animation":"dX6o","web-utility/source/URL":"LcDj"}],"sugy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Router=i;var e=require("@bikeshaving/crank"),t=require("./History"),r=require("./utility"),n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=function(e,t){var r,n,a,s,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(c){s=[6,c],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},s=function(e){return this instanceof s?(this.v=e,this):new s(e)},o=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,a){(function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)})(n,a,(t=e[r](t)).done,t.value)})}}},c=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,a=r.apply(e,t||[]),o=[];return n={},c("next"),c("throw"),c("return"),n[Symbol.asyncIterator]=function(){return this},n;function c(e){a[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||l(e,t)})})}function l(e,t){try{(r=a[e](t)).value instanceof s?Promise.resolve(r.value.v).then(i,u):f(o[0][2],r)}catch(n){f(o[0][3],n)}var r}function i(e){l("next",e)}function u(e){l("throw",e)}function f(e,t){e(t),o.shift(),o.length&&l(o[0][0],o[0][1])}},l=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(c){a={error:c}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(a)throw a.error}}return o};function i(i){var u=i.mode,f=i.map,h=i.className,p=i.children,y=i.spinner,m=i.startClass,v=i.endClass;return c(this,arguments,function(){var c,i,d,b,w,E,k,S,x,N,P,g,I,_,C,O,j,q,T,H,G,M,R;return a(this,function(a){switch(a.label){case 0:return[4,s((0,e.createElement)("div",{className:h}))];case 1:return[4,a.sent()];case 2:c=a.sent(),i=new t.History(u).listen(c),f.sort(function(e,t){var r=e.path;return(t.path+"").localeCompare(r+"")}),a.label=3;case 3:a.trys.push([3,24,25,30]),b=o(i.stream.observable),a.label=4;case 4:return[4,s(b.next())];case 5:return(w=a.sent()).done?[3,23]:(E=w.value,k=E.data,S=E.defer.resolve,(x=f.find(function(e){var t=e.path;return"string"==typeof t?k.startsWith(t):t.test(k)}))?[3,8]:[4,s((0,e.createElement)("div",{className:h},p))]);case 6:return[4,a.sent()];case 7:return a.sent(),S(),[3,22];case 8:return N=d&&(0,e.createElement)(d.component,n({},(0,r.parsePath)(d.path),{history:i})),x.component?[3,13]:y?[4,s((0,e.createElement)("div",{className:h},N&&(0,e.createElement)("div",{"crank-key":d.path},N),y))]:[3,11];case 9:return[4,a.sent()];case 10:a.sent(),a.label=11;case 11:return P=x,[4,s(x.resolver())];case 12:P.component=a.sent(),a.label=13;case 13:return g=(0,e.createElement)(x.component,n({},(0,r.parsePath)(k),{history:i})),d&&m&&v?(I=l(i.compare(d.path,k)<0?[m,v]:[v,m],2),_=I[0],C=I[1],[4,s((0,e.createElement)("div",{className:h},(0,e.createElement)("div",{"crank-key":d.path,className:C},N),(0,e.createElement)("div",{"crank-key":k,className:_},g)))]):[3,19];case 14:return[4,a.sent()];case 15:return O=a.sent(),j=O.firstElementChild,q=O.lastElementChild,T=(0,r.watchStop)(j),H=(0,r.watchStop)(q),[4,s((0,e.createElement)("div",{className:h},(0,e.createElement)("div",{"crank-key":d.path,className:C},N),(0,e.createElement)("div",{"crank-key":k},g)))];case 16:return[4,a.sent()];case 17:return a.sent(),[4,s(Promise.all([T,H]))];case 18:a.sent(),a.label=19;case 19:return[4,s((0,e.createElement)("div",{className:h},(0,e.createElement)("div",{"crank-key":k},g)))];case 20:return[4,a.sent()];case 21:a.sent(),d={path:k,component:x.component},S(),a.label=22;case 22:return[3,4];case 23:return[3,30];case 24:return G=a.sent(),M={error:G},[3,30];case 25:return a.trys.push([25,,28,29]),w&&!w.done&&(R=b.return)?[4,s(R.call(b))]:[3,27];case 26:a.sent(),a.label=27;case 27:return[3,29];case 28:if(M)throw M.error;return[7];case 29:return[7];case 30:return[2]}})})}
},{"@bikeshaving/crank":"fgIV","./History":"S1DR","./utility":"yhWQ"}],"NFRY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./History");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./Router");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./utility");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});
},{"./History":"S1DR","./Router":"sugy","./utility":"yhWQ"}],"r1iP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Page=l;var e=require("@bikeshaving/crank"),t=function(e,t){var r={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(r[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(l=Object.getOwnPropertySymbols(e);a<l.length;a++)t.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(e,l[a])&&(r[l[a]]=e[l[a]])}return r},r={test:"lightblue",example:"pink",sample:"wheat"};function l(l){var a=l.path,n=(l.history,t(l,["path","history"]));return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("nav",null,(0,e.createElement)("a",{href:"test?id=1"},"Test"),(0,e.createElement)("a",{href:"example?id=2"},"Example"),(0,e.createElement)("a",{href:"sample?id=3"},"Sample")),(0,e.createElement)("ul",{style:{background:r[a]}},(0,e.createElement)("li",null,"path: ",a),(0,e.createElement)("li",null,"data: ",JSON.stringify(n))))}
},{"@bikeshaving/crank":"fgIV"}],"zo2T":[function(require,module,exports) {
"use strict";var e=require("@bikeshaving/crank"),r=require("@bikeshaving/crank/dom"),n=require("../../source"),t=require("./Page");window.onload=function(){return r.renderer.render((0,e.createElement)(n.Router,{className:"router",startClass:"start",endClass:"end",map:[{path:"",component:t.Page},{path:"test",component:t.Page},{path:/Example/i,component:t.Page},{path:"sample",resolver:function(){return new Promise(function(e){return setTimeout(function(){return e(t.Page)},500)})}}],spinner:(0,e.createElement)("div",{className:"spinner"},"loading...")}),document.body)};
},{"@bikeshaving/crank":"fgIV","@bikeshaving/crank/dom":"QOVZ","../../source":"NFRY","./Page":"r1iP"}]},{},["zo2T"], null)
//# sourceMappingURL=source.37de533e.js.map